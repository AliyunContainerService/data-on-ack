(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[25],{"14J3":function(e,t,a){"use strict";a("EFp3"),a("1GLa")},"8Skl":function(e,t,a){"use strict";var n=a("wx14"),c=a("q1tI"),r=a("dmAa"),o=a("6VBw"),s=function(e,t){return c["createElement"](o["a"],Object(n["a"])({},e,{ref:t,icon:r["a"]}))},i=c["forwardRef"](s);t["a"]=i},BMrR:function(e,t,a){"use strict";var n=a("qrJ5");t["a"]=n["a"]},BVXq:function(e,t,a){e.exports={jobCreateMain:"jobCreateMain___1ycdR",gitSourceContainer:"gitSourceContainer___eUOFZ",gitSourceContainerEn:"gitSourceContainerEn___2El73",dataSourceContainer:"dataSourceContainer___HnVE1",dataSourceContainerEn:"dataSourceContainerEn___37MN8",dataSourceButton:"dataSourceButton___31QBB"}},IzEo:function(e,t,a){"use strict";a("EFp3"),a("lnY3"),a("cWXX"),a("Znn+")},KciH:function(e,t,a){"use strict";a.r(t);a("14J3");var n=a("BMrR"),c=(a("DYRE"),a("zeV3")),r=(a("Znn+"),a("ZTPi")),o=(a("giR+"),a("fyUT")),s=(a("jCWc"),a("kPKH")),i=(a("IzEo"),a("bx4M")),l=(a("7Kak"),a("9yH6")),u=(a("BoS7"),a("Sdc0")),d=(a("/zsF"),a("PArb")),j=(a("5NDa"),a("5rEg")),b=(a("OaEy"),a("2fM7")),m=a("oBTY"),f=(a("qVdP"),a("jsC+")),h=(a("+L6B"),a("2/Rp")),O=(a("lUTK"),a("BvKs")),p=(a("miYZ"),a("tsqr")),g=a("k1fw"),v=a("PpiC"),x=a("qLMh"),y=a("9og8"),k=(a("y8nQ"),a("Vl3Y")),w=a("tJVT"),S=a("8Skl"),C=a("wx14"),I=a("q1tI"),_=a.n(I),z=a("q0mY"),M=a("6VBw"),V=function(e,t){return I["createElement"](M["a"],Object(C["a"])({},e,{ref:t,icon:z["a"]}))},K=I["forwardRef"](V);var E=K,P=a("i5Jm"),N=a("xvlK"),B=a("tUHX"),F=a("/MKj"),q=a("Hx5s"),T=a("t3Un"),W="/api/v1";function A(e){return J.apply(this,arguments)}function J(){return J=Object(y["a"])(Object(x["a"])().mark((function e(t){return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(T["a"])("".concat(W,"/notebook/create"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/raw;charset=UTF-8"}}));case 1:case"end":return e.stop()}}),e)}))),J.apply(this,arguments)}function L(e){return U.apply(this,arguments)}function U(){return U=Object(y["a"])(Object(x["a"])().mark((function e(t){return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(T["a"])("".concat(W,"/notebook/listPVC"),{params:{namespace:t}}));case 1:case"end":return e.stop()}}),e)}))),U.apply(this,arguments)}function G(){return Z.apply(this,arguments)}function Z(){return Z=Object(y["a"])(Object(x["a"])().mark((function e(){return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(T["a"])("".concat(W,"/datasource")));case 1:case"end":return e.stop()}}),e)}))),Z.apply(this,arguments)}var H=a("3S7+"),R=a("m2Ev"),Y=a("9kvl"),X=a("0WZ6"),Q=a("h7eA"),D=a("BVXq"),$=a.n(D),ee=a("nKUr"),te=["name"],ae=["key","name","fieldKey"],ne=["key","name","fieldKey"],ce=["key","name","fieldKey"],re=["key","name","fieldKey"],oe="registry.cn-beijing.aliyuncs.com/kube-ai/jupyter-scipy:1.0.0-8bb314b3",se=function(e){e.globalConfig;var t=Object(Y["h"])(),a=["ac2-registry.cn-hangzhou.cr.aliyuncs.com/ac2/jupyter:4.0.5-3.2304","ac2-registry.cn-hangzhou.cr.aliyuncs.com/ac2/jupyter-pytorch:4.0.5-3.2304-2.1.2","ac2-registry.cn-hangzhou.cr.aliyuncs.com/ac2/jupyter-pytorch-cuda:4.0.5-3.2304-2.1.2cu118","ac2-registry.cn-hangzhou.cr.aliyuncs.com/ac2/jupyter-pytorch-cuda:4.0.5-3.2304-2.1.2cu121","ac2-registry.cn-hangzhou.cr.aliyuncs.com/ac2/vscode:4.22.1-3.2304","ac2-registry.cn-hangzhou.cr.aliyuncs.com/ac2/vscode:4.22.1-3.2304-cu12.1.1-devel","ac2-registry.cn-hangzhou.cr.aliyuncs.com/ac2/vscode:4.22.1-3.2304-cu11.8.0-devel","ac2-registry.cn-hangzhou.cr.aliyuncs.com/ac2/vscode:4.22.1-3.2304-cu12.1.1-cudnn8-devel","ac2-registry.cn-hangzhou.cr.aliyuncs.com/ac2/vscode:4.22.1-3.2304-cu11.8.0-cudnn8-devel","ac2-registry.cn-hangzhou.cr.aliyuncs.com/ac2/vscode:4.22.1-3.2304-torch2.2.0.1-cu12.1.1-cudnn8-devel","ac2-registry.cn-hangzhou.cr.aliyuncs.com/ac2/vscode:4.22.1-3.2304-torch2.2.0.1-cu11.8.0-cudnn8-devel"];window.defaultImages=a;var C=Object(I["useState"])(!1),z=Object(w["a"])(C,2),M=(z[0],z[1],Object(I["useState"])("Worker")),V=Object(w["a"])(M,2),K=V[0],F=V[1],T=Object(I["useState"])([]),W=Object(w["a"])(T,2),J=W[0],U=W[1],Z=Object(I["useState"])([]),D=Object(w["a"])(Z,2),se=(D[0],D[1],Object(I["useState"])([])),ie=Object(w["a"])(se,2),le=ie[0],ue=ie[1],de=Object(I["useState"])([]),je=Object(w["a"])(de,2),be=je[0],me=je[1],fe=Object(I["useState"])(!0),he=Object(w["a"])(fe,2),Oe=(he[0],he[1]),pe=Object(I["useState"])(!1),ge=Object(w["a"])(pe,2),ve=ge[0],xe=ge[1],ye=Object(I["useState"])([]),ke=Object(w["a"])(ye,2),we=ke[0],Se=ke[1],Ce=Object(I["useState"])(""),Ie=Object(w["a"])(Ce,2),_e=Ie[0],ze=Ie[1],Me=Object(I["useState"])(""),Ve=Object(w["a"])(Me,2),Ke=Ve[0],Ee=Ve[1],Pe=(location.hostname.split(".")[2],k["a"].useForm()),Ne=Object(w["a"])(Pe,1),Be=Ne[0],Fe=Object(I["useState"])(void 0),qe=Object(w["a"])(Fe,2),Te=(qe[0],qe[1]),We=Object(I["useState"])({}),Ae=Object(w["a"])(We,2),Je=Ae[0],Le=Ae[1],Ue=function(e){if(e>0){for(var t=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],a="",n=0;n<e;n++){var c=parseInt(25*Math.random());a+=t[c]}return a}return!1};sessionStorage.getItem("job")&&(Te(JSON.parse(sessionStorage.getItem("job"))),sessionStorage.removeItem("job"));var Ge={name:"",image:"",tokenSetting:{enabled:!1,token:Ue(16)},workspaceVolume:{enabled:!1,name:"",path:"/home/jovyan"},privateGit:{enabled:!1,user:"",password:""},tasks:[{role:"Worker",resource:{gpu:0,cpu:.5,memory:1}}],dataSource:null,imgPullSecrets:null,namespaces:"",notebookType:"Jupyter"},Ze=function(e){if(window.localStorage){var t=window.localStorage,a=e.toString();t.setItem("images",a)}else console.warn("localstorage not supported!")},He=function(){if(window.localStorage){var e=window.localStorage,t=e.getItem("images");return null!=t?t:we.toString()}return console.warn("localstorage not supported!"),we.toString()},Re=function(){var e=Object(y["a"])(Object(x["a"])().mark((function e(){var t,n;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:window.localStorage?(t=window.localStorage,n=t.getItem("images"),null!=n?Se(He().split(",")):(Ze(a),Se(a))):(console.warn("localstorage not supported!"),Se(a));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(y["a"])(Object(x["a"])().mark((function e(){var t,a,n,c;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(X["c"])();case 2:if(t=e.sent,a=t.data&&t.data.loginId?t.data:{},Le(a),n=[],a&&a.namespaces)for(c in a.namespaces)n.push(a.namespaces[c]);ue(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(y["a"])(Object(x["a"])().mark((function e(t){var a;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Oe(!0),e.next=3,L(t);case 3:a=e.sent,"200"!=a.code?me([]):a&&a.data&&me(a.data),Oe(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(I["useEffect"])((function(){Ye(),Re()}),[]);var Qe=function(){var e=Object(y["a"])(Object(x["a"])().mark((function e(a){var n,c,r,o,s,i,l;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(xe(!0),n="",a.tokenSetting.enabled&&(n=a.tokenSetting.token),c=[],a.workspaceVolume.enabled&&(r={name:a.workspaceVolume.name,path:a.workspaceVolume.path},c.unshift(r)),o={},J.forEach((function(e){var t=e.name,a=Object(v["a"])(e,te);o[t]=Object(g["a"])(Object(g["a"])({},a),{},{name:t})})),a.dataSource&&a.dataSource.length>0&&a.dataSource.forEach((function(e){var t=e.dataSource;if(o[t]){var a=o[t],n=(a.name,a.pvc_name),r=a.local_path,s=(a.namespace,r),i={name:n,path:s};c.push(i)}})),s=new Set,i=0;i<c.length;i++)s.add(c[i].name);if(!(s.size<c.length)){e.next=14;break}return alert(t.formatMessage({id:"Multiple PVCs with the same name are mounted"})),xe(!1),e.abrupt("return");case 14:l={name:a.name,namespace:a.namespaces,image:oe,cpus:String(a.tasks[0].resource.cpu),gpus:String(a.tasks[0].resource.gpu),memory:String(a.tasks[0].resource.memory)+"Gi",imagePullPolicy:"IfNotPresent",volumes:c,userId:Je.loginId,userName:Je.loginName,imagePullSecrets:[],token:n,notebookType:a.notebookType},void 0!==a.imgPullSecrets&&null!==a.imgPullSecrets&&0!==a.imgPullSecrets.length&&(l.imagePullSecrets=[a.imgPullSecrets]),a.labels&&(l.labels=a.labels.filter((function(e){return e.key})).reduce((function(e,t){return e[t.key]=t.value,e}),{})),a.annotations&&(l.annotations=a.annotations.filter((function(e){return e.key})).reduce((function(e,t){return e[t.key]=t.value,e}),{})),a.nodeSelectors&&(l.nodeSelectors=a.nodeSelectors.reduce((function(e,t){return e[t.key]=t.value,e}),{})),a.tolerations&&(l.tolerates=a.tolerations.filter((function(e){return e.key})).reduce((function(e,t){return e[t.key]={},e[t.key].operator=t.operator,e[t.key].value=t.value,e[t.key].effect=t.effect,e}),{})),A(l).then((function(e){"200"===e.code?p["default"].success(t.formatMessage({id:"dlc-dashboard-add-success"})):p["default"].error(e.data),xe(!1),Y["e"].push({pathname:"/notebooks",query:{}})})).catch((function(e){xe(!1)}));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),De=function(e,t,a){if("remove"===t){var n=Be.getFieldValue("tasks"),c=n.map((function(e){return e.role})).indexOf(e);F(n[c-1].role),a.remove(c)}},$e=function(e){F(e)},et=function(e,t){Be.validateFields([["tasks"]]).then((function(){var a=e.key;t.add({role:a,command:"",replicas:1,resource:{gpu:0,cpu:.5,memory:8},image:tfJobImages[0]}),F(a)}))},tt=function(e){var t=Be.getFieldValue("tasks");if(void 0!==t)return t.some((function(t){return t.role===e}))},at={labelCol:{span:"zh-CN"===Object(Y["d"])()?4:8},wrapperCol:{span:"zh-CN"===Object(Y["d"])()?20:16}};function nt(e){oe=e}var ct=function(e){return Object(ee["jsx"])(f["a"],{overlay:Object(ee["jsxs"])(O["a"],{onClick:function(t){return et(t,e)},children:[Object(ee["jsx"])(O["a"].Item,{disabled:tt("Worker"),children:"Worker"},"Worker"),Object(ee["jsx"])(O["a"].Item,{disabled:tt("PS"),children:"PS"},"PS"),Object(ee["jsx"])(O["a"].Item,{disabled:tt("Chief"),children:"Chief"},"Chief"),Object(ee["jsx"])(O["a"].Item,{disabled:tt("Evaluator"),children:"Evaluator"},"Evaluator")]}),children:Object(ee["jsxs"])(h["a"],{type:"primary",children:[t.formatMessage({id:"dlc-dashboard-add-task-type"})," ",Object(ee["jsx"])(S["a"],{})]})})},rt=function(e){ze(e.target.value)},ot=function(){var e=[].concat(Object(m["a"])(we),[_e]).filter((function(e,t,a){return a.indexOf(e)===t}));Se(e),Ze(e),ze("")},st=function(){var e=we.filter((function(e){return e!=_e}));Se(e),Ze(e),ze("")},it=function(){var e=Object(y["a"])(Object(x["a"])().mark((function e(t){var a,n,c,r;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:if(a=e.sent,n=t,c=[],a&&a.data)for(r in a.data)a.data[r].namespace===n&&c.push(a.data[r]);U(c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),lt=function(e){var t=Be.getFieldsValue()||{};t.namespaces=e,t.workspaceVolume.name="",Be.setFieldsValue(t),Ee(e),Xe(e).then(),it(e).then()};function ut(e){return e.isBound?Object(ee["jsxs"])(b["a"].Option,{title:e.name,value:e.name,children:[e.name,Object(ee["jsx"])(H["a"],{title:t.formatMessage({id:"Has been mounted to another Pod"}),children:Object(ee["jsx"])(E,{twoToneColor:"#faad14"})})]}):Object(ee["jsx"])(b["a"].Option,{title:e.name,value:e.name,children:e.name})}var dt=function(e){var t=Be.getFieldsValue()||{};t.notebookType=e.target.value,Be.setFieldsValue(t)},jt=function(){var e=Object(y["a"])(Object(x["a"])().mark((function e(t){var a,n,c;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:if(a=e.sent,n=[],a&&a.data)for(c in a.data)a.data[c].pvc_name!==t&&a.data[c].namespace===Ke&&n.push(a.data[c]);U(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ee["jsx"])(q["a"],{title:Object(ee["jsx"])(ee["Fragment"],{}),children:Object(ee["jsxs"])(k["a"],Object(g["a"])(Object(g["a"])({initialValues:Ge,form:Be},at),{},{onFinish:Qe,labelAlign:"left",children:[Object(ee["jsxs"])(n["a"],{gutter:[24,24],children:[Object(ee["jsx"])(s["a"],{span:13,children:Object(ee["jsxs"])(i["a"],{style:{marginBottom:12},title:t.formatMessage({id:"Notebook message"}),children:[Object(ee["jsx"])(k["a"].Item,{name:"name",label:t.formatMessage({id:"Notebook Name"}),rules:[{required:!0,message:t.formatMessage({id:"dlc-dashboard-notebook-name-required"})},{pattern:/^[a-z][-a-z0-9]{0,28}[a-z0-9]$/,message:t.formatMessage({id:"dlc-dashboard-job-name-required-rules"})}],children:Object(ee["jsx"])(j["a"],{})}),Object(ee["jsx"])(k["a"].Item,{shouldUpdate:!0,name:"image",form:Be,label:Object(ee["jsxs"])(H["a"],{title:Object(ee["jsxs"])("div",{children:[Object(ee["jsx"])("span",{children:t.formatMessage({id:"Notebook Custom Image Tooltip"})}),Object(ee["jsx"])("a",{href:"https://help.aliyun.com/document_detail/285629.html#title-tng-lqy-yb6",target:"_blank",rel:"noreferrer",children:t.formatMessage({id:"Notebook Custom Image Document"})})]}),children:[t.formatMessage({id:"Notebook Image"})," ",Object(ee["jsx"])(P["a"],{twoToneColor:"#faad14"})]}),rules:[{required:!0}],children:Object(ee["jsx"])(b["a"],{onChange:nt,placeholder:"custom dropdown render",style:{width:"100%px"},dropdownRender:function(e){return Object(ee["jsxs"])("div",{children:[e,Object(ee["jsx"])(d["a"],{style:{margin:"4px 0"}}),Object(ee["jsx"])(k["a"].Item,{rules:[{required:!0}],children:Object(ee["jsxs"])("div",{style:{display:"flex",flexWrap:"nowrap",padding:8},children:[Object(ee["jsx"])(j["a"],{style:{flex:"auto"},value:_e,onChange:rt}),Object(ee["jsxs"])("a",{style:{flex:"none",padding:"8px",display:"block",cursor:"pointer"},onClick:ot,children:[Object(ee["jsx"])(N["a"],{})," ",t.formatMessage({id:"dlc-notebook-add-customized-image"})]}),Object(ee["jsxs"])("a",{style:{flex:"none",padding:"8px",display:"block",cursor:"pointer"},onClick:st,children:[Object(ee["jsx"])(B["a"],{})," ",t.formatMessage({id:"dlc-notebook-delete-customized-image"})]})]})})]})},children:we.map((function(e){return e&&Object(ee["jsx"])(b["a"].Option,{title:e,value:e,children:e},e)}))})}),Object(ee["jsx"])(k["a"].Item,{shouldUpdate:!0,noStyle:!0,children:function(){return Object(ee["jsx"])("div",{children:Object(ee["jsx"])("div",{className:"zh-CN"===Object(Y["d"])()?$.a.gitSourceContainer:$.a.gitSourceContainerEn,children:Object(ee["jsx"])(k["a"].Item,{label:t.formatMessage({id:"dlc-dashboard-job-namespace"}),name:"namespaces",rules:[{required:!0}],children:Object(ee["jsx"])(b["a"],{onChange:lt,allowClear:!0,children:le.map((function(e){return e&&Object(ee["jsx"])(b["a"].Option,{title:e,value:e,children:e},e)}))})})})})}}),Object(ee["jsx"])(k["a"].Item,{name:"imgPullSecrets",label:t.formatMessage({id:"dlc-image-pull-secrets"}),rules:[{required:!1},{pattern:/^[a-z][-a-z0-9]{0,28}[a-z0-9]$/,message:t.formatMessage({id:"dlc-dashboard-job-name-required-rules"})}],children:Object(ee["jsx"])(j["a"],{})}),Object(ee["jsx"])(Q["b"],{form:Be,fieldCode:"dataSource",fieldKey:"dataSource",options:J,label:t.formatMessage({id:"dlc-dashboard-data-config"}),colStyle:{labelCol:{span:"zh-CN"===Object(Y["d"])()?4:8},wrapperCol:{span:"zh-CN"===Object(Y["d"])()?24:16}},messageLable:t.formatMessage({id:"dlc-dashboard-pvc-name"})}),Object(ee["jsx"])(k["a"].Item,{shouldUpdate:!0,noStyle:!0,children:function(){return Object(ee["jsxs"])(k["a"].Item,{label:"Workspace PVC",children:[Object(ee["jsx"])(k["a"].Item,{name:["workspaceVolume","enabled"],valuePropName:"checked",children:Object(ee["jsx"])(u["a"],{})}),!0===Be.getFieldValue(["workspaceVolume","enabled"])&&Object(ee["jsxs"])(_.a.Fragment,{children:[Object(ee["jsx"])(k["a"].Item,{label:Object(ee["jsxs"])(H["a"],{title:t.formatMessage({id:"Workspace Mount PVC, Must be readable and writable"}),children:[t.formatMessage({id:"Target PVC"})," ",Object(ee["jsx"])(P["a"],{twoToneColor:"#faad14"})]}),name:["workspaceVolume","name"],rules:[{required:!0,message:t.formatMessage({id:"dlc-notebook-workspace-dir-rules"})}],labelCol:{span:10},wrapperCol:{span:18},children:Object(ee["jsx"])(b["a"],{value:Be.getFieldsValue(["workspaceVolume","name"]),onChange:jt,children:be.map((function(e){return ut(e)}))})}),Object(ee["jsx"])(k["a"].Item,{label:Object(ee["jsxs"])(H["a"],{title:t.formatMessage({id:"Workspace Mount PVC Path"}),children:[t.formatMessage({id:"Target path"})," ",Object(ee["jsx"])(P["a"],{twoToneColor:"#faad14"})]}),name:["workspaceVolume","path"],rules:[{required:!0,message:t.formatMessage({id:"dlc-dashboard-workspace-dir-rules"})}],labelCol:{span:10},wrapperCol:{span:18},children:Object(ee["jsx"])(j["a"],{placeholder:"/home/jovyan",defaultValue:"/home/jovyan"})})]})]})}}),Object(ee["jsx"])(k["a"].Item,{shouldUpdate:!0,noStyle:!0,children:function(){return Object(ee["jsxs"])(k["a"].Item,{label:"Token",children:[Object(ee["jsx"])(k["a"].Item,{name:["tokenSetting","enabled"],valuePropName:"checked",children:Object(ee["jsx"])(u["a"],{})}),!0===Be.getFieldValue(["tokenSetting","enabled"])&&Object(ee["jsx"])(_.a.Fragment,{children:Object(ee["jsx"])(k["a"].Item,{label:t.formatMessage({id:"Token"}),name:["tokenSetting","token"],rules:[{required:!0,message:t.formatMessage({id:"token content required"})},{pattern:/^[a-z][-a-z0-9]{0,28}[a-z0-9]$/,message:t.formatMessage({id:"dlc-dashboard-job-name-required-rules"})}],labelCol:{span:10},wrapperCol:{span:18},children:Object(ee["jsx"])(j["a"],{defaultValue:Ue(16)})})})]})}}),Object(ee["jsx"])(k["a"].Item,{label:"Notebook Type",name:["notebookType"],children:Object(ee["jsxs"])(l["a"].Group,{onChange:dt,children:[Object(ee["jsx"])(l["a"],{value:"Jupyter",children:"Jupyter"}),Object(ee["jsx"])(l["a"],{value:"VSCode",children:"VSCode"})]})})]})}),Object(ee["jsxs"])(s["a"],{span:11,children:[Object(ee["jsx"])(i["a"],{title:t.formatMessage({id:"Notebook configure"}),style:{marginBottom:12},children:Object(ee["jsx"])(k["a"].List,{name:"tasks",children:function(e,a){return Object(ee["jsx"])(r["a"],{type:"editable-card",hideAdd:!0,activeKey:K,onEdit:function(e,t){return De(e,t,a)},onChange:function(e){return $e(e)},tabBarExtraContent:["TFJobDistributed"].includes(Be.getFieldValue("kind"))?ct(a):null,children:e.map((function(e,a){return Object(ee["jsxs"])(r["a"].TabPane,{tab:"Notebook",closable:"Worker"!==Be.getFieldValue("tasks")[a].role,children:[Object(ee["jsx"])(k["a"].Item,{name:[e.name,"resource","cpu"],label:t.formatMessage({id:"dlc-dashboard-cpu"}),fieldKey:[e.fieldKey,"resource","cpu"],children:Object(ee["jsx"])(o["a"],{min:.5,max:96,step:.1,defaultValue:.5,style:{width:"100%"}})}),Object(ee["jsx"])(k["a"].Item,{name:[e.name,"resource","memory"],label:t.formatMessage({id:"dlc-dashboard-memory"}),fieldKey:[e.fieldKey,"resource","memory"],children:Object(ee["jsxs"])(b["a"],{children:[Object(ee["jsx"])(b["a"].Option,{value:1,children:"1GB"}),Object(ee["jsx"])(b["a"].Option,{value:2,children:"2GB"}),Object(ee["jsx"])(b["a"].Option,{value:4,children:"4GB"}),Object(ee["jsx"])(b["a"].Option,{value:8,children:"8GB"}),Object(ee["jsx"])(b["a"].Option,{value:16,children:"16GB"}),Object(ee["jsx"])(b["a"].Option,{value:32,children:"32GB"}),Object(ee["jsx"])(b["a"].Option,{value:64,children:"64GB"}),Object(ee["jsx"])(b["a"].Option,{value:128,children:"128GB"}),Object(ee["jsx"])(b["a"].Option,{value:256,children:"256GB"})]})}),Object(ee["jsx"])(k["a"].Item,{name:[e.name,"resource","gpu"],label:t.formatMessage({id:"dlc-dashboard-gpu"}),fieldKey:[e.fieldKey,"resource","gpu"],dependencies:["tasks"],children:Object(ee["jsx"])(o["a"],{min:0,max:8,step:1,precision:0,style:{width:"100%"}})})]},Be.getFieldValue("tasks")[a].role)}))})}})}),Object(ee["jsxs"])(i["a"],{title:t.formatMessage({id:"dlc-dashboard-training-advance-config"}),style:{marginBottom:12},children:[Object(ee["jsx"])(k["a"].Item,{label:"Label",children:Object(ee["jsx"])(k["a"].List,{name:"labels",children:function(e,a){var n=a.add,r=a.remove;return Object(ee["jsxs"])(I["Fragment"],{children:[e.map((function(e){var a=e.key,n=e.name,o=e.fieldKey,s=Object(v["a"])(e,ae);return Object(ee["jsxs"])(c["b"],{align:"baseline",size:"small",children:[Object(ee["jsx"])(k["a"].Item,Object(g["a"])(Object(g["a"])({},s),{},{name:[n,"key"],fieldKey:[o,"key"],rules:[{pattern:/^(([A-Za-z0-9][-A-Za-z0-9_.]*[/A-Za-z0-9_.]*)+[A-Za-z0-9])?$/,message:t.formatMessage({id:"dlc-dashboard-job-label-key-valid"})}],children:Object(ee["jsx"])(j["a"],{})})),Object(ee["jsx"])(k["a"].Item,Object(g["a"])(Object(g["a"])({},s),{},{name:[n,"value"],fieldKey:[o,"value"],rules:[{pattern:/^(([A-Za-z0-9][-A-Za-z0-9_.]*[/A-Za-z0-9_.]*)?[A-Za-z0-9])?$/,message:t.formatMessage({id:"dlc-dashboard-job-label-value-valid"})}],children:Object(ee["jsx"])(j["a"],{})})),Object(ee["jsx"])(h["a"],{type:"ghost",shape:"circle",size:"small",onClick:function(){return r(n)},icon:Object(ee["jsx"])(B["a"],{})})]},a)})),Object(ee["jsx"])(k["a"].Item,{children:Object(ee["jsx"])(h["a"],{type:"ghost",shape:"circle",size:"small",onClick:function(){return n()},icon:Object(ee["jsx"])(N["a"],{})})})]})}})}),Object(ee["jsx"])(k["a"].Item,{label:"Annotation",children:Object(ee["jsx"])(k["a"].List,{name:"annotations",children:function(e,t){var a=t.add,n=t.remove;return Object(ee["jsxs"])(I["Fragment"],{children:[e.map((function(e){var t=e.key,a=e.name,r=e.fieldKey,o=Object(v["a"])(e,ne);return Object(ee["jsxs"])(c["b"],{align:"baseline",size:"small",children:[Object(ee["jsx"])(k["a"].Item,Object(g["a"])(Object(g["a"])({},o),{},{name:[a,"key"],fieldKey:[r,"key"],children:Object(ee["jsx"])(j["a"],{})})),Object(ee["jsx"])(k["a"].Item,Object(g["a"])(Object(g["a"])({},o),{},{name:[a,"value"],fieldKey:[r,"value"],children:Object(ee["jsx"])(j["a"],{})})),Object(ee["jsx"])(h["a"],{type:"ghost",shape:"circle",size:"small",onClick:function(){return n(a)},icon:Object(ee["jsx"])(B["a"],{})})]},t)})),Object(ee["jsx"])(k["a"].Item,{children:Object(ee["jsx"])(h["a"],{type:"ghost",shape:"circle",size:"small",onClick:function(){return a()},icon:Object(ee["jsx"])(N["a"],{})})})]})}})}),Object(ee["jsx"])(k["a"].Item,{label:"NodeSelector",children:Object(ee["jsx"])(k["a"].List,{name:"nodeSelectors",children:function(e,t){var a=t.add,n=t.remove;return Object(ee["jsxs"])(I["Fragment"],{children:[e.map((function(e){var t=e.key,a=e.name,r=e.fieldKey,o=Object(v["a"])(e,ce);return Object(ee["jsxs"])(c["b"],{align:"baseline",size:"small",children:[Object(ee["jsx"])(k["a"].Item,Object(g["a"])(Object(g["a"])({},o),{},{name:[a,"key"],fieldKey:[r,"key"],children:Object(ee["jsx"])(j["a"],{})})),Object(ee["jsx"])(k["a"].Item,Object(g["a"])(Object(g["a"])({},o),{},{name:[a,"value"],fieldKey:[r,"value"],children:Object(ee["jsx"])(j["a"],{})})),Object(ee["jsx"])(h["a"],{type:"ghost",shape:"circle",size:"small",onClick:function(){return n(a)},icon:Object(ee["jsx"])(B["a"],{})})]},t)})),Object(ee["jsx"])(k["a"].Item,{children:Object(ee["jsx"])(h["a"],{type:"ghost",shape:"circle",size:"small",onClick:function(){return a()},icon:Object(ee["jsx"])(N["a"],{})})})]})}})}),Object(ee["jsx"])(k["a"].Item,{label:"Toleration",children:Object(ee["jsx"])(k["a"].List,{name:"tolerations",children:function(e,t){var a=t.add,n=t.remove;return Object(ee["jsxs"])(I["Fragment"],{children:[e.map((function(e){var t=e.key,a=e.name,r=e.fieldKey,o=Object(v["a"])(e,re);return Object(ee["jsxs"])(c["b"],{align:"baseline",size:"small",children:[Object(ee["jsx"])(k["a"].Item,Object(g["a"])(Object(g["a"])({},o),{},{label:"Key",name:[a,"key"],fieldKey:[r,"key"],children:Object(ee["jsx"])(j["a"],{})})),Object(ee["jsx"])(k["a"].Item,Object(g["a"])(Object(g["a"])({},o),{},{label:"Operator",name:[a,"operator"],fieldKey:[r,"operator"],children:Object(ee["jsx"])(j["a"],{})})),Object(ee["jsx"])(k["a"].Item,Object(g["a"])(Object(g["a"])({},o),{},{label:"Value",name:[a,"value"],fieldKey:[r,"value"],children:Object(ee["jsx"])(j["a"],{})})),Object(ee["jsx"])(k["a"].Item,Object(g["a"])(Object(g["a"])({},o),{},{label:"Effect",name:[a,"effect"],fieldKey:[r,"effect"],children:Object(ee["jsx"])(j["a"],{})})),Object(ee["jsx"])(h["a"],{type:"ghost",shape:"circle",size:"small",onClick:function(){return n(a)},icon:Object(ee["jsx"])(B["a"],{})})]},t)})),Object(ee["jsx"])(k["a"].Item,{children:Object(ee["jsx"])(h["a"],{type:"ghost",shape:"circle",size:"small",onClick:function(){return a()},icon:Object(ee["jsx"])(N["a"],{})})})]})}})})]})]})]}),Object(ee["jsx"])(R["a"],{children:Object(ee["jsx"])(h["a"],{type:"primary",htmlType:"submit",loading:ve,children:t.formatMessage({id:"Create notebook"})})})]}))})};t["default"]=Object(F["c"])((function(e){var t=e.global;return{globalConfig:t.config}}))(se)},LxVO:function(e,t,a){e.exports={toolbar:"toolbar___3Siek",left:"left___TfDhv",right:"right___2Qdwe"}},TpwP:function(e,t,a){},h7eA:function(e,t,a){"use strict";a.d(t,"b",(function(){return _})),a.d(t,"a",(function(){return z}));a("14J3");var n=a("BMrR"),c=(a("jCWc"),a("kPKH")),r=(a("fOrg"),a("+KLJ")),o=a("PpiC"),s=a("QyJ8");function i(e,t){if("object"!==Object(s["a"])(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!==Object(s["a"])(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function l(e){var t=i(e,"string");return"symbol"===Object(s["a"])(t)?t:String(t)}a("y8nQ");var u=a("Vl3Y"),d=(a("OaEy"),a("2fM7")),j=a("k1fw"),b=a("jrin"),m=a("tJVT"),f=a("q1tI"),h=(a("TpwP"),a("xvlK")),O=a("wx14"),p={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},g=p,v=a("6VBw"),x=function(e,t){return f["createElement"](v["a"],Object(O["a"])({},e,{ref:t,icon:g}))},y=f["forwardRef"](x);var k=y,w=a("9kvl"),S=a("jKc1"),C=a.n(S),I=a("nKUr"),_=function(e){var t=e.form,a=e.label,s=e.fieldCode,i=e.fieldKey,O=e.options,p=void 0===O?[]:O,g=e.colStyle,v=e.onChange,x=void 0===v?function(){}:v,y=e.alertMessage,S=void 0===y?{}:y,_=e.messageLable,z=e.selectStyle,M=void 0===z?{"zh-CN":{paddingLeft:"1.22%"},"en-US":{paddingLeft:"2.88%"}}:z,V=e.alertStyle,K=void 0===V?{"zh-CN":{flex:"0 0 77.7%",maxWidth:"77.7%"},"en-US":{flex:"0 0 60.7%",maxWidth:"60.7%"}}:V,E=Object(f["useState"])(S),P=Object(m["a"])(E,2),N=P[0],B=P[1],F=Object(w["h"])();Object(f["useEffect"])((function(){t.getFieldValue(s)||t.setFieldsValue(Object(b["a"])({},s,[Object(b["a"])({},i,null)]))}),[]),Object(f["useEffect"])((function(){if(t.getFieldValue(s)){var e={},a={};Array.prototype.forEach.call(p||[],(function(t){var a=t.name,n=t.local_path,c=t.pvc_name;e[a]=n,e["".concat(a,"&pvc_name")]=c})),t.getFieldValue(s).forEach((function(t,n){var c=t.dataSource;void 0!==c&&null!==c&&(a[c]=e[c],a["".concat(n,"_pvc_name")]=e["".concat(c,"&pvc_name")],a[n]=c)})),t.getFieldValue(s).forEach((function(t,n){var c=t.imgPullSecrets;a[c]=e[c],a["".concat(n,"_img_secret")]=e["".concat(n,"&img_secret")],a[n]=c})),B(a)}}),[p]);var q=function(e,t){var a=(p||[]).filter((function(e){var a=e.name;return a===t}))[0]||{};B((function(n){var c,r=Object(j["a"])(Object(j["a"])({},n),{},(c={},Object(b["a"])(c,t,a.local_path),Object(b["a"])(c,e,t),Object(b["a"])(c,"".concat(e,"_pvc_name"),a.pvc_name),c));return x(r),r}))};return Object(I["jsx"])(u["a"].List,{name:s,children:function(e,t){var s=t.add,b=t.remove;return Object(I["jsx"])(f["Fragment"],{children:e.map((function(e){return Object(I["jsx"])(u["a"].Item,{noStyle:!0,shouldUpdate:!0,children:function(){return Object(I["jsxs"])("div",{children:[Object(I["jsx"])("div",{className:"zh-CN"===Object(w["d"])()?C.a.dataSourceContainer:C.a.dataSourceContainerEn,children:Object(I["jsx"])(u["a"].Item,Object(j["a"])(Object(j["a"])(Object(j["a"])({},e),{},{label:0===e.key?a:" ",colon:0===e.key,name:[e.name,i],fieldKey:[e.fieldKey,i]},g),{},{children:Object(I["jsxs"])(d["a"],{allowClear:!0,onChange:q.bind(null,e.key),style:M[Object(w["d"])()],children:[Array.prototype.map.call(p||[],(function(e){return Object(I["jsx"])(d["a"].Option,{value:null===e||void 0===e?void 0:e.name,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.name)})),";"]})}))}),Object(I["jsx"])("div",{className:C.a.dataSourceButton,children:0===e.key?Object(I["jsx"])(h["a"],{onClick:s,style:{color:"#1890ff"}}):Object(I["jsx"])(k,{style:{color:"red",verticalAlign:"bottom"},onClick:function(){var t=e.key,a=(N[t],Object(o["a"])(N,[t].map(l))),n=Object(j["a"])({},a);B(n),x(n),b(e.name)}})}),"{}"!==JSON.stringify(N)&&N[e.key]&&Object(I["jsx"])(n["a"],{gutter:[24,24],children:Object(I["jsx"])(c["a"],{span:"zh-CN"===Object(w["d"])()?18:14,offset:"zh-CN"===Object(w["d"])()?4:8,style:K[Object(w["d"])()],children:Object(I["jsx"])(r["a"],{type:"info",showIcon:!0,message:Object(I["jsxs"])("span",{children:[_," ",": "," ",N["".concat(e.key,"_pvc_name")],Object(I["jsx"])("br",{}),F.formatMessage({id:"dlc-dashboard-data-local-directory"})," ",N[N[e.key]]]})})})})]})}},e.key)}))})}})},z=function(e){e.form;var t=e.name,a=e.label,n=e.rules,c=e.placeholder,r=e.onChange,o=void 0===r?function(){}:r,s=e.listOption,i=void 0===s?[]:s;return Object(I["jsx"])(u["a"].Item,{name:t,label:a,rules:n,children:Object(I["jsx"])(d["a"],{placeholder:c,onChange:o,allowClear:!0,children:(i||[]).map((function(e){var t=e.label,a=e.value;return Object(I["jsx"])(d["a"].Option,{value:a,children:t},a)}))})})}},i5Jm:function(e,t,a){"use strict";var n=a("wx14"),c=a("q1tI"),r={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:e}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm0 632c-22.1 0-40-17.9-40-40s17.9-40 40-40 40 17.9 40 40-17.9 40-40 40zm62.9-219.5a48.3 48.3 0 00-30.9 44.8V620c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-21.5c0-23.1 6.7-45.9 19.9-64.9 12.9-18.6 30.9-32.8 52.1-40.9 34-13.1 56-41.6 56-72.7 0-44.1-43.1-80-96-80s-96 35.9-96 80v7.6c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V420c0-39.3 17.2-76 48.4-103.3C430.4 290.4 470 276 512 276s81.6 14.5 111.6 40.7C654.8 344 672 380.7 672 420c0 57.8-38.1 109.8-97.1 132.5z",fill:t}},{tag:"path",attrs:{d:"M472 732a40 40 0 1080 0 40 40 0 10-80 0zm151.6-415.3C593.6 290.5 554 276 512 276s-81.6 14.4-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.2 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5 0-39.3-17.2-76-48.4-103.3z",fill:e}}]}},name:"question-circle",theme:"twotone"},o=r,s=a("6VBw"),i=function(e,t){return c["createElement"](s["a"],Object(n["a"])({},e,{ref:t,icon:o}))},l=c["forwardRef"](i);t["a"]=l},jCWc:function(e,t,a){"use strict";a("EFp3"),a("1GLa")},jKc1:function(e,t,a){e.exports={jobCreateMain:"jobCreateMain___1bM-H",gitSourceContainer:"gitSourceContainer___34gZY",gitSourceContainerEn:"gitSourceContainerEn___2LSPv",dataSourceContainer:"dataSourceContainer___1OuP1",dataSourceContainerEn:"dataSourceContainerEn___4XeGX",dataSourceButton:"dataSourceButton___13_Pe"}},kPKH:function(e,t,a){"use strict";var n=a("/kpp");t["a"]=n["a"]},lnY3:function(e,t,a){},m2Ev:function(e,t,a){"use strict";a.d(t,"a",(function(){return O}));var n=a("k1fw"),c=a("PpiC"),r=a("fWQN"),o=a("mtLc"),s=a("yKVA"),i=a("879j"),l=a("q1tI"),u=a("Hx5s"),d=a("TSYQ"),j=a.n(d),b=a("LxVO"),m=a.n(b),f=a("nKUr"),h=["children","className","extra"],O=function(e){Object(s["a"])(a,e);var t=Object(i["a"])(a);function a(){var e;Object(r["a"])(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return e=t.call.apply(t,[this].concat(c)),e.getWidth=function(e){var t=e.collapsed,a=e.isMobile,n=e.siderWidth,c=document.querySelector(".ant-layout-sider");if(c)return a?void 0:"calc(100% - ".concat(t?80:n||256,"px)")},e}return Object(o["a"])(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.children,r=t.className,o=t.extra,s=Object(c["a"])(t,h);return Object(f["jsx"])(u["c"].Consumer,{children:function(t){return Object(f["jsxs"])("div",Object(n["a"])(Object(n["a"])({className:j()(r,m.a.toolbar),style:{width:e.getWidth(t),transition:"0.3s all"}},s),{},{children:[Object(f["jsx"])("div",{className:m.a.left,children:o}),Object(f["jsx"])("div",{className:m.a.right,children:a})]}))}})}}]),a}(l["Component"])},tUHX:function(e,t,a){"use strict";var n=a("wx14"),c=a("q1tI"),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"},o=r,s=a("6VBw"),i=function(e,t){return c["createElement"](s["a"],Object(n["a"])({},e,{ref:t,icon:o}))},l=c["forwardRef"](i);t["a"]=l},xvlK:function(e,t,a){"use strict";var n=a("wx14"),c=a("q1tI"),r=a("dCqo"),o=a("6VBw"),s=function(e,t){return c["createElement"](o["a"],Object(n["a"])({},e,{ref:t,icon:r["a"]}))},i=c["forwardRef"](s);t["a"]=i}}]);